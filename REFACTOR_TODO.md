# 项目重构任务列表

### 阶段一：数据准备与架构设计

- [x] **1. 准备数据：分离数据源**
  - **目的**: 为三个独立的工作流准备好各自的数据源。
  - **实现**: 在 `main.py` 中，修改文件加载逻辑。不再使用单一的 `paper_input_dirs` 列表，而是根据文件夹名称（`main`, `ref1`, `ref2`）创建三个独立的论文信息列表：`main_papers`, `ref1_papers`, `ref2_papers`。

- [x] **2. 架构重构：创建工作流编排器**
  - **目的**: 建立新的总指挥中心。
  - **实现**: 创建一个新的核心模块 `core/workflow_orchestrator.py`。这个模块将负责调用三个针对不同问题的工作流，并收集它们各自的结果。

### 阶段二：实现独立工作流

- [x] **3. 实现工作流1：教授贡献分析**
  - **目的**: 精准分析教授的核心贡献。
  - **实现**: 创建专门模块 `core/workflows/workflow_contribution.py`，输入 `main_papers`，输出教授贡献的结构化总结。

- [-] **4. 实现工作流2：领域问题分析**
  - **目的**: 描绘领域热点问题。
  - **实现**: 创建专门模块 `core/workflows/workflow_field_problems.py`，输入 `main_papers` 和 `ref1_papers`，通过AI评分筛选后，输出领域问题的结构化总结。

- [ ] **5. 实现工作流3：本科生项目分析**
  - **目的**: 筛选适合本科生的科研项目。
  - **实现**: 创建专门模块 `core/workflows/workflow_undergrad_projects.py`，输入 `ref1_papers` 和 `ref2_papers`，通过AI评估难度后，输出项目建议。

### 阶段三：整合与收尾

- [ ] **6. 整合输出：更新最终报告生成器**
  - **目的**: 将各部分高质量结论整合成最终报告。
  - **实现**: 修改 `final_analysis.py`，使其接收三个工作流的输出，并用模板生成最终报告。

- [ ] **7. 清理与收尾：移除冗余代码**
  - **目的**: 保持项目整洁。
  - **实现**: 在重构完成后，清理所有不再使用的旧代码，如 `rag_processor.py` 中的冗余部分。
